---
description: "可視化の品質基準とレポート出力"
globs: ["notebooks/**/*", "reports/**/*"]
---

# Visualization & Reporting Rules

1. **グラフのわかりやすさを最優先にする**: index番号（例: index=84）は使用禁止。意味のあるラベル（ユーザー名、日付、カテゴリ名など）を必ず使用する。
2. **適切なグラフタイプを選択する**: 棒グラフ（カテゴリ比較）、折れ線グラフ（時系列）、ヒートマップ（2次元データ）、積み上げグラフ（内訳）、横棒グラフ（長いラベル）。
3. **日本語ラベルを使用**: 専門知識がなくても理解できるようにする（例: "Monday" → "月曜日"、"has_media" → "メディアあり"）。
4. **数値ラベルを表示**: 棒グラフや折れ線グラフに具体的な値を明示する（例: 棒の上に「1,791件」と表示）。
5. **グラフタイトル、軸ラベル、凡例を必ず付ける**: 何のデータかが一目でわかるようにする。
6. **カラーパレット**: 見やすく区別しやすいものを選ぶ（色覚多様性にも配慮）。
7. **matplotlib使用時は必ず `matplotlib.use('Agg')` を設定**: GUIなしで動作させる。
8. **高解像度（300 DPI以上）**: 印刷・プレゼンテーションにも対応できるよう画像を保存する。
9. **レポート保存**: レポートや可視化ファイルは `reports/` 配下に保存し、Git追跡から除外する。
10. **グラフやテーブル**: タイトル・データ期間・単位を明記する。
11. **データプロファイリング結果**: Notebookに要約し、必要ならHTML/JSONを添付する。
